<section id="arc">
<h2>Déformation d’un objet élastique : arc et flèche</h2>

<p>
Lorsqu’on tend un arc, le travail exercé provoque sa déformation.
Cette déformation modifie les interactions microscopiques entre les particules
de l’arc et entraîne une mise en réserve d’énergie interne.
</p>

<div class="sim">
<canvas id="arcSim" width="450" height="200"></canvas>

<label>Tension de l’arc (travail appliqué)
<input type="range" id="pull" min="0" max="100" value="0" oninput="drawArc()">
</label>

<p>Énergie stockée dans l’arc :
<b><span id="Earc">0</span> J</b></p>

<button onclick="release()">Relâcher la flèche</button>
</div>

<script>
let ctx = document.getElementById("arcSim").getContext("2d");
let arrowX = 300;
let released = false;

function drawArc(){
  let p = pull.value;
  let bend = p/3;
  let E = 0.02*p*p;   // modèle simple d’énergie élastique

  document.getElementById("Earc").innerText = E.toFixed(1);

  ctx.clearRect(0,0,450,200);

  // Arc
  ctx.beginPath();
  ctx.moveTo(100,20);
  ctx.quadraticCurveTo(100-bend,100,100,180);
  ctx.strokeStyle="brown";
  ctx.lineWidth=4;
  ctx.stroke();

  // Corde
  ctx.beginPath();
  ctx.moveTo(100,20);
  ctx.lineTo(100+bend,100);
  ctx.lineTo(100,180);
  ctx.strokeStyle="black";
  ctx.stroke();

  // Flèche
  arrowX = 100 + bend + 80;
  ctx.fillRect(arrowX,95,60,5);
  ctx.beginPath();
  ctx.moveTo(arrowX+60,95);
  ctx.lineTo(arrowX+70,97);
  ctx.lineTo(arrowX+60,100);
  ctx.fill();
}

drawArc();

function release(){
  let interval = setInterval(()=>{
    arrowX += 8;
    ctx.clearRect(0,0,450,200);
    ctx.fillRect(arrowX,95,60,5);
    ctx.beginPath();
    ctx.moveTo(arrowX+60,95);
    ctx.lineTo(arrowX+70,97);
    ctx.lineTo(arrowX+60,100);
    ctx.fill();
    if(arrowX > 400) clearInterval(interval);
  },40);
}
</script>

<div class="box">
La déformation de l’arc correspond à une augmentation de l’énergie interne
(énergie élastique). Lorsqu’on relâche la corde, cette énergie est transférée
à la flèche sous forme d’énergie cinétique.
</div>

</section>
